"use strict";(self.webpackChunkorder_system=self.webpackChunkorder_system||[]).push([[179],{505:(e,t,a)=>{a.d(t,{k:()=>s,L:()=>n});const s=a.p+"05affcd4ab81d668467d.png",n=a.p+"d35a12c4e076d3396ad3.png"},585:(e,t,a)=>{a.d(t,{Z:()=>o});var s=a(893),n=a(294),l=a(332),c=a(554),i=a(928),d=a(754);const o=({item:e})=>{const t=(0,c.T)(),a=(0,c.C)(l.Nj);return(0,n.useEffect)((()=>{a.length&&(0,i.qQ)(d.i,a)}),[]),(0,n.useEffect)((()=>{a&&(0,i.qQ)(d.i,a)}),[a]),(0,s.jsx)("div",{className:"hover:drop-shadow-lg active:drop-shadow-lg hover:scale-105 active:scale-105 transition ease-linear duration-150 min-w-[300px] max-w-sm mx-auto rounded-xl relative overflow-hidden md:max-w-xl shadow-lg shadow-black-500/40 "+(e.count>0?"bg-cardActiveBg":"bg-cardBg"),children:(0,s.jsxs)("div",{className:"md:flex",children:[(0,s.jsx)("div",{className:"md:shrink-0",children:(0,s.jsx)("img",{className:"h-48 w-full object-cover md:h-full md:w-48",src:e.picture,alt:"pizza picture"})}),(0,s.jsx)("div",{className:"p-8 min-w-[300px]",children:(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("div",{className:"uppercase tracking-wide text-sm text-slate-600 font-semibold",children:e.name}),(0,s.jsx)("span",{className:"block mt-1 text-lg leading-tight font-bold text-black",children:e.desc}),(0,s.jsx)("p",{className:"mt-2 text-slate-500",children:"Add to cart:"}),(0,s.jsxs)("div",{className:"mt-4 flex gap-2 justify-start",children:[(0,s.jsx)("button",{onClick:()=>{t((0,l.C)({id:e.id}))},className:"w-10 h-10 bg-stone-800 rounded-lg text-white font-sm md:font-lg px-3 py-1 hover:bg-stone-600 active:scale-95",children:"-"}),(0,s.jsx)("input",{value:e.count,onChange:a=>{t((0,l.ZU)({id:e.id,count:Number(a.target.value)}))},placeholder:"0",className:"w-14 h-10 rounded-md py-1 px-2 outline-none focus:ring-gray-200 focus:ring-2 default:ring-1"}),(0,s.jsx)("button",{onClick:()=>t((0,l.Iu)({id:e.id})),className:"w-10 h-10 bg-stone-800 rounded-lg text-white font-sm md:font-lg px-3 py-1 hover:bg-stone-600 active:scale-95",children:"+"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-1 "+(e.count>0?"text-priceActiveColor":"text-priceColor"),children:[(0,s.jsxs)("div",{className:"font-mono text-2xl",children:["$",e.price]}),e.count>0&&(0,s.jsxs)("div",{className:"font-sans text-sm",children:["x ",e.count]})]})]})}),(0,s.jsx)("div",{className:`absolute bottom-[-34px] right-[-30px] h-16 w-16 flex flex-start items-start ${Number(e.id)<10?"pl-4":"pl-3"} pt-2 transition ease-linear duration-150 font-mono font-semibold text-sm text-white rounded-full ${e.count>0?"bg-gradient-to-r from-pink-500 to-violet-500":"bg-gradient-to-r from-cyan-500 to-blue-500"}`,children:e.id})]})})}},754:(e,t,a)=>{a.d(t,{i:()=>s});const s="SELECTED_ITEMS"},554:(e,t,a)=>{a.d(t,{C:()=>l,T:()=>n});var s=a(998);const n=s.I0,l=s.v9},791:(e,t,a)=>{var s=a(893),n=a(745),l=a(294),c=a(998),i=a(335);function d(){return(0,s.jsxs)("svg",{className:"fixed top-1/2 animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}a(585);var o=a(427),r=a(332);const u=(0,o.xC)({reducer:{menu:r.ZP}});var m=a(655);const p=(0,l.lazy)((()=>a.e(767).then(a.bind(a,767)))),h=(0,l.lazy)((()=>a.e(200).then(a.bind(a,200)))),x=(0,m.cP)([{path:"/",element:(0,s.jsx)(p,{})},{path:"/settlement",element:(0,s.jsx)(h,{})}]),g=document.getElementById("root");(0,n.s)(g).render((0,s.jsx)((function(){return(0,s.jsx)(l.StrictMode,{children:(0,s.jsx)(c.zt,{store:u,children:(0,s.jsx)(l.Suspense,{fallback:(0,s.jsx)(d,{}),children:(0,s.jsx)(i.pG,{router:x})})})})}),{}))},332:(e,t,a)=>{a.d(t,{Iu:()=>g,CC:()=>j,ZP:()=>N,vn:()=>c,l5:()=>p,C:()=>v,Ft:()=>h,Nj:()=>x,ZU:()=>f,x_:()=>S});var s=a(427),n=a(505);const l=[{picture:n.k,name:"Neapolitan Pizza",desc:"Best Sell No.1",price:14},{picture:n.k,name:"Chicago Pizza",desc:"Best Sell in Chicago",price:8},{picture:n.k,name:"New York-Style",desc:"Best Sell in NYC",price:12},{picture:n.k,name:"Sicilian Pizza",desc:"Best Sell in Sicilian",price:18},{picture:n.k,name:"St. Louis Pizza",desc:"Best Sell in St. Louis!",price:23},{picture:n.k,name:"Detroit Pizza",desc:"Best Sell in Detroit!",price:9},{picture:n.k,name:"Greek Pizza",desc:"Best Sell in Greek!",price:29},{picture:n.k,name:"GongBaoChicken Pizza",desc:"Best Sell in Chengdu!",price:28},{picture:n.k,name:"MapoTouFu Pizza",desc:"Best Sell in Chongqing!",price:15},{picture:n.k,name:"Daoxiaomian Pizza",desc:"Best Sell in Shanxi!",price:6},{picture:n.k,name:"Changfen Pizza",desc:"Best Sell in Guangdong!",price:8},{picture:n.k,name:"Banfen Pizza",desc:"Best Sell in Jiangxi!",price:23}].map(((e,t)=>({...e,id:`${t+1}`,count:0}))),c=(0,s.hg)("menu/fetchMenu",(async()=>(await function(e=l){return new Promise((t=>setTimeout((()=>t({data:e})),500)))}(l)).data));var i;!function(e){e.IDLE="idle",e.LOADING="loading",e.FAILED="failed"}(i||(i={}));const d={value:[],status:i.IDLE,selected:[],hasSelected:!1},o=(e,t)=>e.findIndex((e=>e.id===t.payload.id));function r(e){return e.reduce(((e,t)=>(t.count>0&&e.push(t),e)),[])}const u=e=>!!e.find((e=>e.count>0)),m=(0,s.oM)({name:"menu",initialState:d,reducers:{addByOne:(e,t)=>{const a=o(e.value,t),{count:s}=e.value[a];e.value[a].count=s>=10?s:s+1,e.hasSelected=u(e.value),e.selected=r(e.hasSelected?e.value:[])},minusByOne:(e,t)=>{const a=o(e.value,t),{count:s}=e.value[a];e.value[a].count=s>0?s-1:s,e.hasSelected=u(e.value),e.selected=r(e.hasSelected?e.value:[])},setCountByAmount:(e,t)=>{const a=o(e.value,t),s=(e=>{var t;return t=e,"[object Number]"===Object.prototype.toString.call(t)&&t?(e>10&&(e=10),e<0&&(e=0)):e=0,e})(t.payload.count);e.value[a].count=s,e.hasSelected=u(e.value),e.selected=r(e.hasSelected?e.value:[])},setSelectedFromLocalStorage:(e,t)=>{const{data:a}=t.payload;a&&a.length?e.hasSelected=!0:e.hasSelected=!1,e.selected=t.payload.data||[]},clearSelectedData:e=>{e.selected=[]}},extraReducers:e=>{e.addCase(c.pending,(e=>{e.status=i.LOADING})).addCase(c.fulfilled,((e,t)=>{e.status=i.IDLE,e.value=t.payload.map((t=>e.selected.find((e=>e.id===t.id))||t))})).addCase(c.rejected,(e=>{e.status=i.FAILED}))}}),p=e=>e.menu.value,h=e=>e.menu.hasSelected,x=e=>e.menu.selected,{addByOne:g,minusByOne:v,setCountByAmount:f,setSelectedFromLocalStorage:S,clearSelectedData:j}=m.actions,N=m.reducer},928:(e,t,a)=>{a.d(t,{$o:()=>n,ZL:()=>l,qQ:()=>s});const s=(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},n=e=>{const t=localStorage.getItem(e);return t?JSON.parse(t):null},l=()=>{localStorage.clear()}}},e=>{e.O(0,[216],(()=>(791,e(e.s=791)))),e.O()}]);